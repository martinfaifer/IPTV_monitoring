"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[247],{1247:(t,e,n)=>{n.r(e),n.d(e,{default:()=>u});const r={components:{},data:function(){return{searchDialog:!1,searchData:null,loading:!1,results:[]}},created:function(){},methods:{search:function(){var t=this;this.loading=!0,axios.post("search",{search:this.searchData}).then((function(e){t.loading=!1,t.results=e.data}))},openSearchDialog:function(){this.results=[],this.searchDialog=!0},closeDialog:function(){this.results=[],this.searchData=null,this.searchDialog=!1}},watch:{searchData:function(t,e){this.search()}}};var s=n(1900);const o={components:{},data:function(){return{}},created:function(){},methods:{logout:function(){var t=this;axios.post("auth/logout").then((function(e){t.$router.push("/login")}))}},watch:{}};const a={components:{},data:function(){return{weathers:[],loading:!0}},created:function(){this.index()},methods:{index:function(){var t=this;axios.get("weather").then((function(e){t.weathers=e.data,t.loading=!1}))},getIcon:function(t){return"Thunderstorm"==t?"mdi-weather-lightning":"Drizzle"==t||"Rain"==t?"mdi-weather-rainy":"Snow"==t?"mdi-weather-snowy":"Mist"==t||"Smoke"==t||"Haze"==t||"Dust"==t?"mdi-weather-fog":"Squall"==t?"mdi-weather-windy":"Clear"==t?"mdi-weather-sunny":"Clouds"==t?"mdi-weather-cloudy":void 0},websocketData:function(){var t=this;Echo.channel("WeatherAlert").listen("BroadcastWweatherAlertEvent",(function(e){console.log(e),t.weathers=e}))}},mounted:function(){this.websocketData()},watch:{}};const i={components:{Search:(0,s.Z)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mx-1"},[n("v-tooltip",{attrs:{bottom:"",color:"#192B4B"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({directives:[{name:"shortkey",rawName:"v-shortkey",value:["ctrl","space"],expression:"['ctrl', 'space']"}],attrs:{icon:""},on:{shortkey:function(e){return t.openSearchDialog()},click:function(e){return t.openSearchDialog()}}},r),[n("v-icon",[t._v(" mdi-magnify ")])],1)]}}])},[t._v(" "),n("span",[n("v-container",[n("v-row",[t._v(" Vyhledávání ")])],1)],1)]),t._v(" "),n("v-dialog",{attrs:{width:"800","overlay-color":"rgb(12, 19, 35)"},model:{value:t.searchDialog,callback:function(e){t.searchDialog=e},expression:"searchDialog"}},[n("v-card",{staticStyle:{background:"rgba(12, 19, 31)"},attrs:{height:"400"}},[n("v-card-title",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{icon:""},on:{click:function(e){return t.closeDialog()}}},[n("v-icon",[t._v("mdi-close")])],1)],1),t._v(" "),n("v-card-text",{staticClass:"pt-2"},[n("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[n("v-text-field",{attrs:{"prepend-inner-icon":"mdi-magnify",autofocus:"",loading:t.loading,color:"#328AF1",outlined:"",placeholder:"Pro otevření vyhledávání stiskněte crtl + mezerník"},model:{value:t.searchData,callback:function(e){t.searchData=e},expression:"searchData"}})],1),t._v(" "),n("v-col",[1==t.loading?n("v-progress-linear",{attrs:{indeterminate:""}}):t._e()],1),t._v(" "),t.results.length>0?n("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[n("v-virtual-scroll",{attrs:{bench:0,items:t.results,height:"250","item-height":"64"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.item;return[n("v-list-item",{key:r.id,attrs:{link:"",to:r.url},on:{click:function(e){return t.closeDialog()}}},[n("v-list-item-avatar",[n("v-img",{attrs:{src:r.logo}})],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",{staticClass:"font-weight-medium subtitle-1",domProps:{innerHTML:t._s(r.nazev)}}),t._v(" "),n("v-list-item-subtitle",{domProps:{innerHTML:t._s(r.description)}})],1)],1),t._v(" "),n("v-divider")]}}],null,!1,1989582703)})],1):t._e()],1)],1)],1)],1)}),[],!1,null,null,null).exports,User:(0,s.Z)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mx-1"},[n("v-menu",{attrs:{transition:"scroll-y-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({attrs:{icon:""}},r),[n("v-icon",[t._v(" mdi-account ")])],1)]}}])},[t._v(" "),n("v-list",{staticClass:"text-center caption",attrs:{width:"200px",color:"#192B4B"}},[n("v-list-item",{attrs:{link:"",to:"/user/dashboard"}},[t._v("\n                Uživatelský účet\n                "),n("v-spacer"),n("v-icon",{attrs:{color:"blue",right:"","x-small":""}},[t._v("mdi-account-cog-outline")])],1),t._v(" "),n("v-list-item",{attrs:{link:"",to:"/settings/dashboard"}},[t._v("\n                Nastavení"),n("v-spacer"),n("v-icon",{attrs:{color:"green",right:"","x-small":""}},[t._v("mdi-settings")])],1),t._v(" "),n("v-divider",{staticClass:"ml-2 mr-2"}),t._v(" "),n("v-list-item",{on:{click:function(e){return t.logout()}}},[t._v("\n                Odhlásit se\n                "),n("v-spacer"),n("v-icon",{attrs:{color:"red",right:"","x-small":""}},[t._v("mdi-lock")])],1),t._v(" "),n("v-divider",{staticClass:"ml-2 mr-2"}),t._v(" "),n("v-list-item",{staticClass:"caption"},[n("small",{staticClass:"indigo--text"},[t._v("\n                    Verze "+t._s(t.systemVersion)+"\n                ")])])],1)],1)],1)}),[],!1,null,null,null).exports,Weather:(0,s.Z)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mx-1"},[0!=t.weathers.length?n("v-menu",{attrs:{transition:"scroll-y-transition",rounded:"lg"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({attrs:{icon:"",loading:t.loading}},r),[1==t.weathers[0].weather.isAlert?n("div",[n("v-badge",{attrs:{color:"error",bottom:"",overlap:""}},[n("v-icon",[t._v("\n                            "+t._s(t.getIcon(t.weathers[0].weather.main))+"\n                        ")])],1)],1):n("div",[n("v-icon",[t._v("\n                        "+t._s(t.getIcon(t.weathers[0].weather.main))+"\n                    ")])],1)])]}}],null,!1,1252769324)},[t._v(" "),n("v-list",{attrs:{"max-width":"500px","min-width":"350px","min-height":"250px","max-height":"800px",color:"#192B4B"}},t._l(t.weathers,(function(e){return n("div",{key:e},[n("v-col",{staticClass:"mx-4 my-4",attrs:{cols:"12"}},[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"12",md:"8",lg:"8"}},[n("p",{staticClass:"display-1"},[t._v(t._s(e.city))])]),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"12",md:"4",lg:"4"}},[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-icon",{attrs:{"x-large":""}},[t._v(t._s(t.getIcon(e.weather.main)))])],1),t._v(" "),n("v-col",{attrs:{cols:"12"}},[n("p",{staticClass:"text--center mt-n3 ml-n3"},[t._v("\n                                        "+t._s(e.weather.description_cs)+"\n                                    ")])])],1)],1),t._v(" "),n("v-col",[0==e.weather.isAlert?n("v-alert",{staticClass:"shadow-blur-warning-blue-alert overflow-hidden rounded-lg blur text-center my-3",attrs:{color:"#182948"}},[t._v("\n                                Nehrozí rozlazení satelitů\n                            ")]):t._e(),t._v(" "),1==e.weather.isAlert?n("v-alert",{staticClass:"shadow-blur-error-alertoverflow-hidden rounded-lg blur text-center my-3",attrs:{color:"orange"}},[t._v("\n                                Hrozí rozlazení satelitů\n                            ")]):t._e()],1)],1)],1)],1)})),0)],1):t._e()],1)}),[],!1,null,null,null).exports},data:function(){return{alertSideBar:!1,streamsHistory:[],screenWidth:"25%"}},created:function(){this.index()},methods:{index:function(){var t=this;axios.get("streams/history").then((function(e){t.streamsHistory=e.data}))},websocketData:function(){var t=this;Echo.channel("StreamHistoryStatuses").listen("BroadcastStreamsHistoryStatusEvent",(function(e){console.log(e),t.streamsHistory=e[0]}))},returnToHome:function(){"/"!=this.$route.path&&this.$router.push("/")},getAlertColor:function(t){return"starting"==t||"monitoring"==t||"waiting"==t||"stopped"==t?"#182948":"can_not_start"==t?"red":"stop"==t?"orange":"error"==t||"issue"==t?"red":void 0},getAlertBlur:function(t){return"starting"==t||"monitoring"==t||"waiting"==t||"stopped"==t?"shadow-blur-warning-blue-alert":"can_not_start"==t||"error"==t?"shadow-blur-error-alert":"stop"==t?"shadow-blur-warning":"issue"==t?"shadow-blur-error-alert":void 0}},mounted:function(){var t=this;this.websocketData(),window.addEventListener("resize",(function(){window.innerWidth>="1024"?t.screenWidth="35%":t.screenWidth="100%"}))},watch:{screenWidth:function(){console.log(window.screen.width)}}};const l={computed:{alert:function(){return this.$store.state.alerts}},data:function(){return{}},created:function(){},methods:{iconFunction:function(t){return"success"==t?"mdi-check":"info"==t?"mdi-information":"error"==t?"mdi-close":void 0},getAlertColor:function(t){return"info"==t?"blue":"error"==t?"red":"success"==t?"green":void 0}},watch:{alert:function(){0!=this.alert.length&&setTimeout(function(){this.$store.state.alerts=[]}.bind(this),5e3)}}};const c={computed:{},data:function(){return{user:[]}},components:{VerticalMenu:(0,s.Z)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-app-bar",{staticStyle:{background:"rgba(13, 20, 38, 0.25)","box-shadow":"0 8px 32px 0 rgba(31, 38, 135, 0.37)","backdrop-filter":"blur(4px)","-webkit-backdrop-filter":"blur(4px)"},attrs:{fixed:"",flat:"",dense:""}},[n("div",{staticClass:"justify-start d-flex",staticStyle:{position:"fixed","z-index":"1"}},[n("v-img",{staticClass:"ml-6",staticStyle:{cursor:"pointer"},attrs:{height:"30",width:"130",link:"",src:"http://93.91.154.55/storage//logos/png","lazy-src":"http://93.91.154.55/storage//logos/png"},on:{click:function(e){return t.returnToHome()}}})],1),t._v(" "),n("v-spacer"),t._v(" "),n("Search"),t._v(" "),n("Weather"),t._v(" "),n("User"),t._v(" "),n("div",{staticClass:"mx-1"},[n("v-tooltip",{attrs:{bottom:"",color:"#192B4B"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.alertSideBar=!t.alertSideBar}}},r),[n("v-icon",[t._v(" mdi-bell ")])],1)]}}])},[t._v(" "),n("span",[n("v-container",[n("v-row",[t._v(" Notifikace ")])],1)],1)])],1)],1),t._v(" "),n("v-navigation-drawer",{staticStyle:{"z-index":"100"},attrs:{absolute:"",temporary:"",right:"",color:"#0b131f",width:t.screenWidth},model:{value:t.alertSideBar,callback:function(e){t.alertSideBar=e},expression:"alertSideBar"}},[n("p",{staticClass:"mt-2 ml-3 text-left caption text--disabled font-weight-medium",attrs:{fixed:""}},[t._v("\n            Historie událostí\n        ")]),t._v(" "),0!=t.streamsHistory.length?n("v-timeline",{staticClass:"ml-n6 mr-3",attrs:{dense:""}},t._l(t.streamsHistory,(function(e){return n("v-timeline-item",{key:e.id,staticClass:"overflow-hidden rounded-lg blur",attrs:{small:"",color:t.getAlertColor(e.status)}},[n("v-alert",{staticClass:"overflow-hidden rounded-lg blur text-center my-3",class:t.getAlertBlur(e.status),attrs:{color:t.getAlertColor(e.status)}},[n("v-col",{attrs:{cols:"12"}},[n("strong",[t._v(t._s(e.stream))]),t._v(" -\n                        "+t._s(e.msg)+"\n                    ")]),t._v(" "),n("v-col",{attrs:{cols:"12"}},[n("small",{staticClass:"caption"},[t._v(t._s(new Date(e.created_at)))])])],1)],1)})),1):n("v-timeline",{staticClass:"mr-3",attrs:{dense:""}},[n("v-timeline-item",{attrs:{small:"",color:"#182948"}},[n("v-alert",{staticClass:"overflow-hidden rounded-lg blur shadow-blur-warning-blue-alert text-center my-3",attrs:{color:"#182948"}},[n("strong",[t._v("Není zde žádná nová událost")])])],1)],1)],1)],1)}),[],!1,null,null,null).exports,SnackBarNotification:(0,s.Z)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[0!=t.alert.length?n("v-snackbar",{staticClass:"my-3",attrs:{timeout:-1,value:!0,bottom:"",right:"",color:t.getAlertColor(t.alert.status),elevation:"24"}},[n("v-row",{staticClass:"d-flex justify-space-between ml-3 mr-6"},[n("v-icon",[t._v(t._s(t.iconFunction(t.alert.status)))]),t._v(" "),n("span",{staticClass:"body-1"},[t._v(t._s(t.alert.message))])],1)],1):t._e()],1)}),[],!1,null,null,null).exports},created:function(){this.index()},methods:{index:function(){var t=this;axios.get("users/user").then((function(e){t.user=e.data})).catch((function(e){"401"==e.response.status&&t.$router.push("/login")}))}},mounted:function(){},watch:{$route:function(t,e){}}};const u=(0,s.Z)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("div",[n("VerticalMenu"),t._v(" "),n("SnackBarNotification"),t._v(" "),n("v-main",[n("v-container",{staticClass:"mx-auto",attrs:{fluid:""}},[n("router-view")],1)],1)],1)])}),[],!1,null,null,null).exports},1900:(t,e,n)=>{function r(t,e,n,r,s,o,a,i){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):s&&(l=i?function(){s.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:s),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}n.d(e,{Z:()=>r})}}]);