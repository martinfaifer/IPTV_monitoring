"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[32],{7032:(t,e,a)=>{a.r(e),a.d(e,{default:()=>o});const n={data:function(){return{createDialog:!1,warningDialog:!1,formData:[],errors:[],search:"",items:[],headers:[{text:"Email",value:"email"},{text:"Uživatel",value:"user"},{text:"Akce",value:"actions"}]}},created:function(){this.index()},methods:{index:function(){var t=this;axios.get("settings/notifications").then((function(e){t.items=e.data})).catch((function(e){403==e.response.status&&t.$router.push("/403")}))},openNewEmailDialog:function(){this.createDialog=!0,this.formData=[]},storeStream:function(){var t=this;axios.post("settings/notifications",{email:this.formData.email}).then((function(e){t.$store.state.alerts=e.data,t.closeDialog(),t.index()})).catch((function(e){t.errors=e.response.data.errors}))},deleteItem:function(t){this.formData=t,this.warningDialog=!0},deleteNotification:function(){var t=this;axios.delete("settings/notifications/"+this.formData).then((function(e){t.$store.state.alerts=e.data,t.closeDialog(),t.index()})).catch((function(e){t.errors=e.response.data.errors}))},closeDialog:function(){this.createDialog=!1,this.warningDialog=!1,this.formData=[],this.errors=[]}}};const o=(0,a(1900).Z)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[a("v-card",{staticClass:"overflow-hidden rounded-xl blur shadow-blur",attrs:{flat:""}},[a("v-card-title",[a("v-text-field",{attrs:{autofocus:"",outlined:"",dense:"",color:"#1E293B","prepend-inner-icon":"mdi-magnify",label:"Hledání ...","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{plain:"",outlined:"",color:"#0277BD"},on:{click:function(e){return t.openNewEmailDialog()}}},[t._v("\n                            Nový email\n                        ")])],1),t._v(" "),a("v-data-table",{attrs:{headers:t.headers,items:t.items,search:t.search},scopedSlots:t._u([{key:"item.user",fn:function(e){var n=e.item;return[a("span",[t._v("\n                                "+t._s(n.email)+"\n                            ")])]}},{key:"item.actions",fn:function(e){var n=e.item;return[a("v-icon",{attrs:{small:"",color:"red"},on:{click:function(e){return t.deleteItem(n.id)}}},[t._v("mdi-delete")])]}}])})],1)],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"400px","overlay-color":"rgb(17, 27, 45)"},model:{value:t.warningDialog,callback:function(e){t.warningDialog=e},expression:"warningDialog"}},[a("v-card",[a("v-card-text",[a("v-container",{staticClass:"pt-3"},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[a("p",{staticClass:"mt-6 text-center headline"},[t._v("\n                                Přejete si odebrat email?\n                            ")])])],1)],1)],1),t._v(" "),a("v-card-actions",{attrs:{color:"#101B1D"}},[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",plain:"",outlined:""},on:{click:function(e){return t.closeDialog()}}},[t._v("\n                    Zavřít\n                ")]),t._v(" "),a("v-btn",{attrs:{color:"red darken-1",plain:"",outlined:""},on:{click:function(e){return t.deleteNotification()}}},[t._v("\n                    Odebrat\n                ")])],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"800px","overlay-color":"rgb(17, 27, 45)"},model:{value:t.createDialog,callback:function(e){t.createDialog=e},expression:"createDialog"}},[a("v-card",[a("p",{staticClass:"pt-3 text-center subtitle-1"},[t._v("Přidání nového emailu")]),t._v(" "),a("v-card-text",[a("v-container",{staticClass:"pt-3"},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[a("v-text-field",{attrs:{dense:"",outlined:"",autofocus:"","error-messages":t.errors.email,label:"Email na který se budou dorucovat notifikace",type:"text",color:"#0277BD"},model:{value:t.formData.email,callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}})],1)],1)],1)],1),t._v(" "),a("v-card-actions",{attrs:{color:"#101B1D"}},[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",plain:"",outlined:""},on:{click:function(e){return t.closeDialog()}}},[t._v("\n                    Zavřít\n                ")]),t._v(" "),a("v-btn",{attrs:{color:"green darken-1",plain:"",outlined:""},on:{click:function(e){return t.storeStream()}}},[t._v("\n                    Uložit\n                ")])],1)],1)],1)],1)}),[],!1,null,null,null).exports},1900:(t,e,a)=>{function n(t,e,a,n,o,i,r,s){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=a,c._compiled=!0),n&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),r?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=l):o&&(l=s?function(){o.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(t,e){return l.call(e),d(t,e)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:t,options:c}}a.d(e,{Z:()=>n})}}]);