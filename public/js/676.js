"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[676],{8676:(t,e,a)=>{a.r(e),a.d(e,{default:()=>s});const n={data:function(){return{createDialog:!1,warningDialog:!1,formData:[],errors:[],search:"",items:[],headers:[{text:"Náhled",value:"image"},{text:"Stream",value:"nazev"},{text:"Url",value:"stream_url"},{text:"Status",value:"status"},{text:"Dohleduje se",value:"monitored_at"},{text:"Akce",value:"actions"}]}},created:function(){this.index()},methods:{index:function(){var t=this;axios.get("settings/streams").then((function(e){t.items=e.data})).catch((function(e){403==e.response.status&&t.$router.push("/403")}))},storeStream:function(){var t=this;axios.post("settings/streams",{nazev:this.formData.nazev,stream_url:this.formData.stream_url}).then((function(e){t.$store.state.alerts=e.data,t.closeDialog(),t.index()})).catch((function(e){t.errors=e.response.data.errors}))},closeDialog:function(){this.createDialog=!1,this.warningDialog=!1,this.formData=[],this.errors=[]},openNewStreamDialog:function(){this.createDialog=!0},deleteStream:function(){var t=this;axios.delete("settings/streams/"+this.formData).then((function(e){t.$store.state.alerts=e.data,t.closeDialog(),t.index()}))},deleteItem:function(t){this.formData=t,this.warningDialog=!0},openEditDialog:function(t){},saveEditDialog:function(){}}};const s=(0,a(1900).Z)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[a("v-card",{staticClass:"overflow-hidden rounded-xl blur shadow-blur",attrs:{flat:""}},[a("v-card-title",[a("v-text-field",{attrs:{outlined:"",dense:"",color:"#1E293B","prepend-inner-icon":"mdi-magnify",label:"Hledání ...","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{plain:"",outlined:"",color:"#0277BD"},on:{click:function(e){return t.openNewStreamDialog()}}},[t._v("\n                            Nový stream\n                        ")])],1),t._v(" "),a("v-data-table",{attrs:{headers:t.headers,items:t.items,search:t.search},scopedSlots:t._u([{key:"item.image",fn:function(t){var e=t.item;return[a("v-img",{attrs:{height:"25",width:"45","lazy-src":e.image,src:e.image,"aspect-ratio":16/9}})]}},{key:"item.status",fn:function(e){var n=e.item;return["waiting"==n.status?a("span",{staticClass:"blue--text"},[t._v("\n                                Čeká na spuštění\n                            ")]):t._e(),t._v(" "),"monitoring"==n.status?a("span",{staticClass:"green--text"},[t._v("\n                                Dohleduje se\n                            ")]):t._e(),t._v(" "),"starting"==n.status?a("span",{staticClass:"teal--text"},[t._v("\n                                Spouští se dohledování\n                            ")]):t._e(),t._v(" "),"stopped"==n.status?a("span",{staticClass:"blue--text"},[t._v("\n                                Zastaveno dohledování\n                            ")]):t._e(),t._v(" "),"can_not_start"==n.status?a("span",{staticClass:"red--text"},[t._v("\n                                Výpadek\n                            ")]):t._e(),t._v(" "),"issue"==n.status?a("span",{staticClass:"orange--text"},[t._v("\n                                Problém ve streamu\n                            ")]):t._e()]}},{key:"item.actions",fn:function(e){var n=e.item;return[a("v-icon",{attrs:{small:"",color:"info"},on:{click:function(e){return t.openEditDialog(n.id)}}},[t._v("mdi-pencil")]),t._v(" "),a("v-icon",{attrs:{small:"",color:"red"},on:{click:function(e){return t.deleteItem(n.id)}}},[t._v("mdi-delete")])]}}])})],1)],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"400px","overlay-color":"rgb(17, 27, 45)"},model:{value:t.warningDialog,callback:function(e){t.warningDialog=e},expression:"warningDialog"}},[a("v-card",[a("v-card-text",[a("v-container",{staticClass:"pt-3"},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[a("p",{staticClass:"mt-6 text-center headline"},[t._v("\n                                Přejete si odebrat kanál?\n                            ")])])],1)],1)],1),t._v(" "),a("v-card-actions",{attrs:{color:"#101B1D"}},[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",plain:"",outlined:""},on:{click:function(e){return t.closeDialog()}}},[t._v("\n                    Zavřít\n                ")]),t._v(" "),a("v-btn",{attrs:{color:"red darken-1",plain:"",outlined:""},on:{click:function(e){return t.deleteStream()}}},[t._v("\n                    Odebrat\n                ")])],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"800px","overlay-color":"rgb(17, 27, 45)"},model:{value:t.createDialog,callback:function(e){t.createDialog=e},expression:"createDialog"}},[a("v-card",[a("p",{staticClass:"pt-3 text-center subtitle-1"},[t._v("\n                Založení nového streamu\n            ")]),t._v(" "),a("v-card-text",[a("v-container",{staticClass:"pt-3"},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"6"}},[a("v-text-field",{attrs:{dense:"",outlined:"","error-messages":t.errors.nazev,label:"Název sreamu",type:"text",color:"#0277BD"},model:{value:t.formData.nazev,callback:function(e){t.$set(t.formData,"nazev",e)},expression:"formData.nazev"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"6"}},[a("v-text-field",{attrs:{dense:"",outlined:"","error-messages":t.errors.stream_url,label:"dohledová adresa",type:"text",color:"#0277BD"},model:{value:t.formData.stream_url,callback:function(e){t.$set(t.formData,"stream_url",e)},expression:"formData.stream_url"}})],1)],1)],1)],1),t._v(" "),a("v-card-actions",{attrs:{color:"#101B1D"}},[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",plain:"",outlined:""},on:{click:function(e){return t.closeDialog()}}},[t._v("\n                    Zavřít\n                ")]),t._v(" "),a("v-btn",{attrs:{color:"green darken-1",plain:"",outlined:""},on:{click:function(e){return t.storeStream()}}},[t._v("\n                    Uložit\n                ")])],1)],1)],1)],1)}),[],!1,null,null,null).exports},1900:(t,e,a)=>{function n(t,e,a,n,s,r,o,i){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=a,c._compiled=!0),n&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=l):s&&(l=i?function(){s.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:s),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(t,e){return l.call(e),d(t,e)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:t,options:c}}a.d(e,{Z:()=>n})}}]);