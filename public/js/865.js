"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[865],{6865:(t,e,n)=>{n.r(e),n.d(e,{default:()=>d});const a={props:["stream"],data:function(){return{}},components:{},created:function(){},methods:{websocketData:function(){var t=this;Echo.channel("StreamImage"+this.stream.id).listen("StreamImage",(function(e){t.stream.image=e[0]}))}},mounted:function(){this.websocketData()},watch:{$route:function(t,e){}},beforeDestroy:function(){}};var r=n(1900);const o={data:function(){return{count:0,errorStreams:null}},created:function(){this.index()},components:{ErrorImageCard:(0,r.Z)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"overflow-hidden rounded-lg blur shadow-blur-error",attrs:{link:"",to:"stream/"+t.stream.id,height:"120",width:"230",color:"#EF5350"}},[n("v-card-text",[n("p",{staticClass:"text-center title white--text",domProps:{innerHTML:t._s(t.stream.nazev)}}),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[n("div",{staticClass:"ml-1"},[n("strong",{staticClass:"white--text",domProps:{textContent:t._s(t.stream.msg)}})])])],1)],1)}),[],!1,null,null,null).exports},methods:{index:function(){var t=this;axios.get("streams/not-running").then((function(e){e.data.length>0?(t.errorStreams=e.data,t.count=e.data.length):(t.errorStreams=null,t.count=0)}))},websocketData:function(){var t=this;Echo.channel("ErrorStreams").listen("BroadcastErrorStreamsEvent",(function(e){e[0].length>0?(t.errorStreams=e[0],t.count=e[0].length):(t.errorStreams=null,t.count=0)}))}},mounted:function(){this.websocketData()}};const s=(0,r.Z)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[0!=t.count?n("v-container",{attrs:{fluid:""}},[n("p",{staticClass:"text-left caption text--disabled font-weight-medium"},[t._v("\n            Nefunkční kanály\n            "),n("span",{staticClass:"red--text"},[t._v(t._s(t.count))])]),t._v(" "),n("v-row",{staticClass:"mx-auto mt-1"},t._l(t.errorStreams,(function(t){return n("v-col",{key:t.id,staticClass:"my-2"},[n("ErrorImageCard",{attrs:{stream:t}})],1)})),1)],1):t._e()],1)}),[],!1,null,null,null).exports;const i={props:["stream"],data:function(){return{}},components:{},created:function(){},methods:{websocketData:function(){var t=this;Echo.channel("StreamImage"+this.stream.stream.id).listen("BroadcastStreamImageEvent",(function(e){t.stream.image=e[0]}))}},mounted:function(){this.websocketData()},watch:{$route:function(t,e){}},beforeDestroy:function(){}};const c={data:function(){return{count:0,problemStreans:null}},created:function(){this.index()},components:{ProblemImageCard:(0,r.Z)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"overflow-hidden rounded-lg blur shadow-blur shadow-blur-warning",attrs:{link:"",to:"stream/"+t.stream.stream.id,height:"120",width:"230"}},[n("v-img",{attrs:{"lazy-src":t.stream.image,src:t.stream.image,"aspect-ratio":16/9,gradient:"to top right, rgba(251, 140, 0, 0.9), rgba(251, 140, 0, 0.5)"}},[n("v-container",{attrs:{fluid:""}},[n("p",{staticClass:"text-center text-secondary white--text font-weight-medium",domProps:{innerHTML:t._s(t.stream.stream.nazev)}}),t._v(" "),t._l(t.stream.errors,(function(e){return n("p",{key:e,staticClass:"text-center caption white--text font-weight-medium",staticStyle:{"background-color":"rgba(255, 0, 0, 0.5)"}},[t._v("\n                "+t._s(e.message)+"\n            ")])}))],2)],1)],1)}),[],!1,null,null,null).exports},methods:{index:function(){var t=this;axios.get("streams/problems").then((function(e){e.data.length>0?(t.problemStreans=e.data,t.count=e.data.length):(t.problemStreans=null,t.count=0)}))},websocketData:function(){var t=this;Echo.channel("ProblemStreams").listen("BroadcastProblemStreamsEvent",(function(e){e[0].length>0?(t.problemStreans=e[0],t.count=e[0].length):(t.problemStreans=null,t.count=0)}))}},mounted:function(){this.websocketData()}};const l={props:["stream"],data:function(){return{audioPidErrors:0,videoPidErrors:0}},components:{},created:function(){},methods:{websocketData:function(){var t=this;Echo.channel("StreamImage"+this.stream.id).listen("BroadcastStreamImageEvent",(function(e){t.stream.image=e[0]}))}},mounted:function(){this.websocketData()},watch:{$route:function(t,e){}},beforeDestroy:function(){}};const u={metaInfo:{title:"IPTV Dohled - mozaika"},data:function(){return{streams:[],paginationInterval:null,pagination:{current:1,total:0}}},components:{ErrorStreamMozaika:s,ProblemStreamMozaika:(0,r.Z)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[0!=t.count?n("v-container",{attrs:{fluid:""}},[n("p",{staticClass:"text-left caption text--disabled font-weight-medium"},[t._v("\n            Problémové kanály\n            "),n("span",{staticClass:"red--text"},[t._v(t._s(t.count))])]),t._v(" "),n("v-row",{staticClass:"mx-auto mt-1"},t._l(t.problemStreans,(function(t){return n("v-col",{key:t.id,staticClass:"my-2"},[n("ProblemImageCard",{attrs:{stream:t}})],1)})),1)],1):t._e()],1)}),[],!1,null,null,null).exports,ImageCard:(0,r.Z)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"overflow-hidden rounded-lg blur shadow-blur",attrs:{link:"",to:"stream/"+t.stream.id,height:"140",width:"250"}},[n("v-img",{attrs:{"lazy-src":t.stream.image,src:t.stream.image,"aspect-ratio":16/9}},[n("v-container",{attrs:{fluid:""}},[n("p",{staticClass:"text-center text-secondary white--text font-weight-medium",domProps:{innerHTML:t._s(t.stream.nazev)}}),t._v(" "),0!=t.stream.audio_pids_errors||0!=t.stream.video_pids_errors?n("v-bottom-navigation",{attrs:{absolute:"","background-color":"rgba(12, 22, 38, 0.9)",dense:""}},[n("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"6"}},[0!=t.stream.audio_pids_errors?n("p",{staticClass:"red--text caption font-weight-bold"},[t._v("\n                        audio errors:\n\n                        "+t._s(t.stream.audio_pids_errors)+"\n                    ")]):t._e()]),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"6"}},[0!=t.stream.video_pids_errors?n("p",{staticClass:"red--text caption font-weight-bold"},[t._v("\n                        video erros:\n\n                        "+t._s(t.stream.video_pids_errors)+"\n                    ")]):t._e()])],1):t._e()],1)],1)],1)}),[],!1,null,null,null).exports},created:function(){this.index()},methods:{index:function(){var t=this;axios.get("streams/running?page="+this.pagination.current).then((function(e){t.streams=e.data.data,t.pagination.current=e.data.current_page,t.pagination.total=e.data.last_page}))},getStreamImage:function(t){axios.get("streams/image/"+t).then((function(t){return t.data}))},onPageChange:function(){this.index()},websocketData:function(){var t=this;Echo.channel("RunningStreams").listen("BroadcastMonitoredStreamsEvent",(function(e){t.onPageChange()}))}},mounted:function(){this.websocketData(),this.paginationInterval=setInterval(function(){try{this.pagination.current<=this.pagination.total-1?(this.pagination.current=this.pagination.current+1,this.index()):(this.pagination.current=1,this.index())}catch(t){}}.bind(this),3e4)},watch:{$route:function(t,e){this.paginationInterval}},beforeDestroy:function(){}};const d=(0,r.Z)(u,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pt-3"},[n("ErrorStreamMozaika"),t._v(" "),n("ProblemStreamMozaika"),t._v(" "),n("v-container",{attrs:{fluid:""}},[n("p",{staticClass:"text-left caption text--disabled font-weight-medium"},[t._v("\n            Dynamická mozaika\n        ")]),t._v(" "),n("v-row",{staticClass:"mx-auto mt-1"},t._l(t.streams,(function(t){return n("v-col",{key:t.id,staticClass:"my-2"},[n("ImageCard",{attrs:{stream:t}})],1)})),1)],1),t._v(" "),n("v-bottom-navigation",{attrs:{fixed:"","background-color":"transparent"}},[n("v-pagination",{staticClass:"mx-auto",staticStyle:{color:"#192b4a"},attrs:{color:"#192B4A",length:t.pagination.total},on:{input:function(e){return t.onPageChange()}},model:{value:t.pagination.current,callback:function(e){t.$set(t.pagination,"current",e)},expression:"pagination.current"}})],1)],1)}),[],!1,null,null,null).exports},1900:(t,e,n)=>{function a(t,e,n,a,r,o,s,i){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),a&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):r&&(c=i?function(){r.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:r),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:l}}n.d(e,{Z:()=>a})}}]);