"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[878],{4878:(t,e,s)=>{s.r(e),s.d(e,{default:()=>u});const n={components:{},data:function(){return{searchDialog:!1,searchData:null,loading:!1,results:[]}},created:function(){},methods:{search:function(){var t=this;this.loading=!0,axios.post("search",{search:this.searchData}).then((function(e){t.loading=!1,t.results=e.data}))},openSearchDialog:function(){this.results=[],this.searchDialog=!0},closeDialog:function(){this.results=[],this.searchData=null,this.searchDialog=!1}},watch:{searchData:function(t,e){this.search()}}};var r=s(1900);const a={components:{},data:function(){return{}},created:function(){},methods:{logout:function(){var t=this;axios.post("auth/logout").then((function(e){t.$router.push("/login")}))}},watch:{}};const o={components:{},data:function(){return{weathers:[],loading:!0}},created:function(){this.index()},methods:{index:function(){var t=this;axios.get("weather").then((function(e){t.weathers=e.data,t.loading=!1}))},getIcon:function(t){return"Thunderstorm"==t?"mdi-weather-lightning":"Drizzle"==t||"Rain"==t?"mdi-weather-rainy":"Snow"==t?"mdi-weather-snowy":"Mist"==t||"Smoke"==t||"Haze"==t||"Dust"==t?"mdi-weather-fog":"Squall"==t?"mdi-weather-windy":"Clear"==t?"mdi-weather-sunny":"Clouds"==t?"mdi-weather-cloudy":void 0},websocketData:function(){var t=this;Echo.channel("WeatherAlert").listen("BroadcastWweatherAlertEvent",(function(e){console.log(e),t.weathers=e}))}},mounted:function(){this.websocketData()},watch:{}};const i={components:{Search:(0,r.Z)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mx-1"},[s("v-tooltip",{attrs:{bottom:"",color:"#192B4B"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[s("v-btn",t._g({directives:[{name:"shortkey",rawName:"v-shortkey",value:["ctrl","space"],expression:"['ctrl', 'space']"}],attrs:{icon:""},on:{shortkey:function(e){return t.openSearchDialog()},click:function(e){return t.openSearchDialog()}}},n),[s("v-icon",[t._v(" mdi-magnify ")])],1)]}}])},[t._v(" "),s("span",[s("v-container",[s("v-row",[t._v(" Vyhledávání ")])],1)],1)]),t._v(" "),s("v-dialog",{attrs:{width:"800","overlay-color":"rgb(12, 19, 35)"},model:{value:t.searchDialog,callback:function(e){t.searchDialog=e},expression:"searchDialog"}},[s("v-card",{staticStyle:{background:"rgba(12, 19, 31)"},attrs:{height:"400"}},[s("v-card-title",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{icon:""},on:{click:function(e){return t.closeDialog()}}},[s("v-icon",[t._v("mdi-close")])],1)],1),t._v(" "),s("v-card-text",{staticClass:"pt-2"},[s("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[s("v-text-field",{attrs:{"prepend-inner-icon":"mdi-magnify",autofocus:"",loading:t.loading,color:"#328AF1",outlined:"",placeholder:"Pro otevření vyhledávání stiskněte crtl + mezerník"},model:{value:t.searchData,callback:function(e){t.searchData=e},expression:"searchData"}})],1),t._v(" "),s("v-col",[1==t.loading?s("v-progress-linear",{attrs:{indeterminate:""}}):t._e()],1),t._v(" "),t.results.length>0?s("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[s("v-virtual-scroll",{attrs:{bench:0,items:t.results,height:"250","item-height":"64"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.item;return[s("v-list-item",{key:n.id,attrs:{link:"",to:n.url},on:{click:function(e){return t.closeDialog()}}},[s("v-list-item-avatar",[s("v-img",{attrs:{src:n.logo}})],1),t._v(" "),s("v-list-item-content",[s("v-list-item-title",{staticClass:"font-weight-medium subtitle-1",domProps:{innerHTML:t._s(n.nazev)}}),t._v(" "),s("v-list-item-subtitle",{domProps:{innerHTML:t._s(n.description)}})],1)],1),t._v(" "),s("v-divider")]}}],null,!1,1989582703)})],1):t._e()],1)],1)],1)],1)}),[],!1,null,null,null).exports,User:(0,r.Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mx-1"},[s("v-menu",{attrs:{transition:"scroll-y-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[s("v-btn",t._g({attrs:{icon:""}},n),[s("v-icon",[t._v(" mdi-account ")])],1)]}}])},[t._v(" "),s("v-list",{staticClass:"text-center caption",attrs:{width:"200px",color:"#192B4B"}},[s("v-list-item",{attrs:{link:"",to:"/user/dashboard"}},[t._v("\n                Uživatelský účet\n                "),s("v-spacer"),s("v-icon",{attrs:{color:"blue",right:"","x-small":""}},[t._v("mdi-account-cog-outline")])],1),t._v(" "),s("v-list-item",{attrs:{link:"",to:"/settings/dashboard"}},[t._v("\n                Nastavení"),s("v-spacer"),s("v-icon",{attrs:{color:"green",right:"","x-small":""}},[t._v("mdi-settings")])],1),t._v(" "),s("v-divider",{staticClass:"ml-2 mr-2"}),t._v(" "),s("v-list-item",{on:{click:function(e){return t.logout()}}},[t._v("\n                Odhlásit se\n                "),s("v-spacer"),s("v-icon",{attrs:{color:"red",right:"","x-small":""}},[t._v("mdi-lock")])],1),t._v(" "),s("v-divider",{staticClass:"ml-2 mr-2"}),t._v(" "),s("v-list-item",{staticClass:"caption"},[s("small",{staticClass:"indigo--text"},[t._v("\n                    Verze "+t._s(t.systemVersion)+"\n                ")])])],1)],1)],1)}),[],!1,null,null,null).exports,Weather:(0,r.Z)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mx-1"},[0!=t.weathers.length?s("v-menu",{attrs:{transition:"scroll-y-transition",rounded:"lg"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[s("v-btn",t._g({attrs:{icon:"",loading:t.loading}},n),[1==t.weathers.weather[0].isAlert?s("div",[s("v-badge",{attrs:{color:"error",bottom:"",overlap:""}},[s("v-icon",[t._v("\n                            "+t._s(t.getIcon(t.weathers.weather[0].main))+"\n                        ")])],1)],1):s("div",[s("v-icon",[t._v("\n                        "+t._s(t.getIcon(t.weathers.weather[0].main))+"\n                    ")])],1),t._v("\n                "+t._s(t.weathers.main.temp)+" °C\n            ")])]}}],null,!1,1178857850)},[t._v(" "),s("v-list",{attrs:{"max-width":"500px","min-width":"350px","min-height":"250px","max-height":"800px",color:"#192B4B"}},[s("div",[s("v-col",{staticClass:"mx-4 my-4",attrs:{cols:"12"}},[s("v-row",[s("v-col",{attrs:{cols:"12",sm:"12",md:"8",lg:"8"}},[s("p",{staticClass:"headline"},[t._v(t._s(t.weathers.name)+" "),s("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.weathers.main.temp)+" °C")])])]),t._v(" "),s("v-col",{attrs:{cols:"12",sm:"12",md:"4",lg:"4"}},[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-icon",{attrs:{"x-large":""}},[t._v(t._s(t.getIcon(t.weathers.weather[0].main)))])],1),t._v(" "),s("v-col",{attrs:{cols:"12"}},[s("p",{staticClass:"text--center mt-n3 ml-n3"},[t._v("\n                                        "+t._s(t.weathers.weather[0].description_cs)+"\n                                    ")])])],1)],1),t._v(" "),s("v-col",{attrs:{cols:"6"}},[s("p",[t._v("Minimální teplota: "+t._s(t.weathers.main.temp_min)+"°C")])]),t._v(" "),s("v-col",{attrs:{cols:"6"}},[s("p",[t._v("Maximální teplota: "+t._s(t.weathers.main.temp_max)+"°C")])]),t._v(" "),s("v-col",{attrs:{cols:"6"}},[s("p",[t._v("Vlhkost vzduchu: "+t._s(t.weathers.main.humidity)+"%")])]),t._v(" "),s("v-col",{attrs:{cols:"6"}},[s("p",[t._v("Tlak: "+t._s(t.weathers.main.pressure)+" hPa")])]),t._v(" "),s("v-col",[0==t.weathers.weather.isAlert?s("v-alert",{staticClass:"shadow-blur-warning-blue-alert overflow-hidden rounded-lg blur text-center my-3",attrs:{color:"#182948"}},[t._v("\n                                Nehrozí rozlazení satelitů\n                            ")]):t._e(),t._v(" "),1==t.weathers.weather.isAlert?s("v-alert",{staticClass:"shadow-blur-error-alertoverflow-hidden rounded-lg blur text-center my-3",attrs:{color:"orange"}},[t._v("\n                                Hrozí rozlazení satelitů\n                            ")]):t._e()],1)],1)],1)],1)])],1):t._e()],1)}),[],!1,null,null,null).exports},data:function(){return{alertSideBar:!1,streamsHistory:[],screenWidth:"25%",multiLine:!1,snackbar:!1}},created:function(){this.index(),this.checkNumberOfPtsProblemStreams()},methods:{index:function(){var t=this;axios.get("streams/history").then((function(e){t.streamsHistory=e.data}))},checkNumberOfPtsProblemStreams:function(){var t=this;axios.get("streams/pts-problems").then((function(e){e.data.length>10?t.snackbar=!0:t.snackbar=!1}))},websocketData:function(){var t=this;Echo.channel("StreamHistoryStatuses").listen("BroadcastStreamsHistoryStatusEvent",(function(e){console.log(e),t.streamsHistory=e[0]}))},returnToHome:function(){"/"!=this.$route.path&&this.$router.push("/")},getAlertColor:function(t){return"starting"==t||"monitoring"==t||"waiting"==t||"stopped"==t?"#182948":"can_not_start"==t?"red":"stop"==t?"orange":"error"==t||"issue"==t?"red":void 0},getAlertBlur:function(t){return"starting"==t||"monitoring"==t||"waiting"==t||"stopped"==t?"shadow-blur-warning-blue-alert":"can_not_start"==t||"error"==t?"shadow-blur-error-alert":"stop"==t?"shadow-blur-warning":"issue"==t?"shadow-blur-error-alert":void 0}},mounted:function(){var t=this;this.websocketData(),window.addEventListener("resize",(function(){window.innerWidth>="1024"?t.screenWidth="35%":t.screenWidth="100%"})),setInterval(function(){try{this.checkNumberOfPtsProblemStreams()}catch(t){}}.bind(this),6e3)},watch:{screenWidth:function(){console.log(window.screen.width)}}};const l={computed:{alert:function(){return this.$store.state.alerts}},data:function(){return{}},created:function(){},methods:{iconFunction:function(t){return"success"==t?"mdi-check":"info"==t?"mdi-information":"error"==t?"mdi-close":void 0},getAlertColor:function(t){return"info"==t?"blue":"error"==t?"red":"success"==t?"green":void 0}},watch:{alert:function(){0!=this.alert.length&&setTimeout(function(){this.$store.state.alerts=[]}.bind(this),5e3)}}};const c={computed:{},data:function(){return{user:[]}},components:{VerticalMenu:(0,r.Z)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-app-bar",{staticStyle:{background:"rgba(10, 15, 29, 0.25)","box-shadow":"0 8px 32px 0 rgba(31, 38, 135, 0.37)","backdrop-filter":"blur(4px)","-webkit-backdrop-filter":"blur(4px)"},attrs:{fixed:"",flat:"",dense:""}},[s("div",{staticClass:"justify-start d-flex",staticStyle:{position:"fixed","z-index":"1"}},[s("v-img",{staticClass:"ml-6",staticStyle:{cursor:"pointer"},attrs:{height:"30",width:"130",link:"",src:"storage/logo.png","lazy-src":"storage/logo.png"},on:{click:function(e){return t.returnToHome()}}})],1),t._v(" "),s("v-spacer"),t._v(" "),s("Search"),t._v(" "),s("Weather"),t._v(" "),s("User"),t._v(" "),s("div",{staticClass:"mx-1"},[s("v-tooltip",{attrs:{bottom:"",color:"#192B4B"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[s("v-btn",t._g({attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.alertSideBar=!t.alertSideBar}}},n),[s("v-icon",[t._v(" mdi-bell ")])],1)]}}])},[t._v(" "),s("span",[s("v-container",[s("v-row",[t._v(" Notifikace ")])],1)],1)])],1),t._v(" "),s("v-snackbar",{attrs:{"multi-line":t.multiLine,timeout:-1,top:"",centered:"",color:"rgba(172, 76, 0, 0.9)"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[s("span",{staticClass:"font-weight-medium"},[t._v("\n                Vysoké množství streamů s rozhozeným I frame!!!\n            ")])])],1),t._v(" "),s("v-navigation-drawer",{staticStyle:{"z-index":"100"},attrs:{absolute:"",temporary:"",right:"",color:"#0b131f",width:t.screenWidth},model:{value:t.alertSideBar,callback:function(e){t.alertSideBar=e},expression:"alertSideBar"}},[s("p",{staticClass:"mt-2 ml-3 text-left caption text--disabled font-weight-medium",attrs:{fixed:""}},[t._v("\n            Historie událostí\n        ")]),t._v(" "),0!=t.streamsHistory.length?s("v-timeline",{staticClass:"ml-n6 mr-3",attrs:{dense:""}},t._l(t.streamsHistory,(function(e){return s("v-timeline-item",{key:e.id,staticClass:"overflow-hidden rounded-lg blur",attrs:{small:"",color:t.getAlertColor(e.status)}},[s("v-alert",{staticClass:"overflow-hidden rounded-lg blur text-center my-3",class:t.getAlertBlur(e.status),attrs:{color:t.getAlertColor(e.status)}},[s("v-col",{attrs:{cols:"12"}},[s("strong",[t._v(t._s(e.stream))]),t._v(" -\n                        "+t._s(e.msg)+"\n                    ")]),t._v(" "),s("v-col",{attrs:{cols:"12"}},[s("small",{staticClass:"caption"},[t._v(t._s(new Date(e.created_at)))])])],1)],1)})),1):s("v-timeline",{staticClass:"mr-3",attrs:{dense:""}},[s("v-timeline-item",{attrs:{small:"",color:"#182948"}},[s("v-alert",{staticClass:"overflow-hidden rounded-lg blur shadow-blur-warning-blue-alert text-center my-3",attrs:{color:"#182948"}},[s("strong",[t._v("Není zde žádná nová událost")])])],1)],1)],1)],1)}),[],!1,null,null,null).exports,SnackBarNotification:(0,r.Z)(l,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[0!=t.alert.length?s("v-snackbar",{staticClass:"my-3",attrs:{timeout:-1,value:!0,bottom:"",right:"",color:t.getAlertColor(t.alert.status),elevation:"24"}},[s("v-row",{staticClass:"d-flex justify-space-between ml-3 mr-6"},[s("v-icon",[t._v(t._s(t.iconFunction(t.alert.status)))]),t._v(" "),s("span",{staticClass:"body-1"},[t._v(t._s(t.alert.message))])],1)],1):t._e()],1)}),[],!1,null,null,null).exports},created:function(){this.index()},methods:{index:function(){var t=this;axios.get("users/user").then((function(e){t.user=e.data})).catch((function(e){"401"==e.response.status&&t.$router.push("/login")}))}},mounted:function(){},watch:{$route:function(t,e){}}};const u=(0,r.Z)(c,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("div",[s("VerticalMenu"),t._v(" "),s("SnackBarNotification"),t._v(" "),s("v-main",[s("v-container",{staticClass:"mx-auto",attrs:{fluid:""}},[s("router-view")],1)],1)],1)])}),[],!1,null,null,null).exports},1900:(t,e,s)=>{function n(t,e,s,n,r,a,o,i){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=s,c._compiled=!0),n&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=l):r&&(l=i?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}s.d(e,{Z:()=>n})}}]);